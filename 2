package urlconverter

import (
	"fmt"
	"strings"
)

const Base62Characters = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"

// ID of ulr model will we encoded with b B62 algo

func Base62Encoding(urlID int) string {
	if urlID == 0 {
		return "0"

	}
	//stores ID in storeID
	var storeEncodedID strings.Builder
	for urlID > 0 {
		remainder := urlID % 62
		storeEncodedID.WriteByte(Base62Characters[remainder])
		urlID = urlID / 62
	}
	//converting encoded(byte) to string
	encodeToString := storeEncodedID.String()

	//reversing the encoded string to get correct base62
	storeID := []rune(encodeToString)
	for i, j := 0, len(storeID)-1; i < j; i, j = i+1, j-1 {
		storeID[i], storeID[j] = storeID[j], storeID[i]
	}
	res := string(storeID)
	fmt.Println("res", res)
	return res
}
